Code divided by projects (not in the GCP resource hierarchy "project" sense), project naming convention is: "demo-" followed by a number, info below will delineate what each project does, state associated deliverables and have related notes and links

Naming convention:

- GCP resources: e.g., demo-2, `this-bucket-does-something`, service-to-query-sql, database-for-cars
- tf resources: e.g., pubsub_demo_service, `database_for_cars`, demo_5_pubsub_topic
- java files/projects: no dashes or underscores (because I personally don't know what's allowed and what's not)

## _demo-1_

React app makes unauth'ed GET to API Gateway, API Gateway forwards request to Spring Boot Cloud Run service, service responds with "Hello World", React app displays response data
| Deliverables | Status (‚úÖ/‚ùå/üöß) | Notes | Links |
| ------------ | ------ | ------ | ----------- |
| Hit service URL to make sure everything is working and the container returns a string | ‚úÖ | Not using a custom "demo-1" container image, using "hello-world" in ready-to-containerize dir | none |
| Do another thing | ‚úÖ | It was also very hard! | bye |
| Do another thing | üöß | Still working on it | bye |

## _demo-2_

Spring Boot Cloud Run service responds with message received from Pub/Sub, check service logs to validate, Pub/Sub message should be logged

- using code (with modifications, e.g., not using jib to build, so had to create a Dockerfile) from [here](https://github.com/GoogleCloudPlatform/java-docs-samples/tree/master/run/pubsub)

| Deliverables                                                                                                                        | Status (‚úÖ/‚ùå/üöß) | Notes                                                                                                                                                                                                                                                  | Links                                                                                                                                                                                                                                                                         |
| ----------------------------------------------------------------------------------------------------------------------------------- | ----------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Run `docker build -t demo-2 .` to validate Dockerfile                                                                               | ‚úÖ                | this is actually useless from config validation perspective, when running tf you could still get the Cloud Run service provisioning to error                                                                                                           | none                                                                                                                                                                                                                                                                          |
| Create cloud-run, cloud-build, source-repo, iam, provider, vars, pubsub tf files                                                    | ‚úÖ                | none                                                                                                                                                                                                                                                   | none                                                                                                                                                                                                                                                                          |
| Push container image to Container Registry                                                                                          | ‚úÖ                | none                                                                                                                                                                                                                                                   | none                                                                                                                                                                                                                                                                          |
| Run tf code                                                                                                                         | ‚úÖ                | pom.xml `artifactId` and `name` is **demo2**, same as what's in Dockerfile preceding `.jar` and also on the top of Java files (e.g., `package com.example.demo2;`) this consistency is important otherwise you'll get errors when building the service | none                                                                                                                                                                                                                                                                          |
| Publish a message with command `gcloud pubsub topics publish demo-2-topic --message "World"` and validate in Cloud Run service logs | ‚úÖ                | none                                                                                                                                                                                                                                                   | none                                                                                                                                                                                                                                                                          |
| Add `cloudbuild.yaml` to source code and validate in Cloud Build that container image is built and pushed to Container Registry     | ‚úÖ                | none                                                                                                                                                                                                                                                   | none                                                                                                                                                                                                                                                                          |
| Make changes to source code and validate in Cloud Run service logs that Cloud Build built a new image                               | ‚úÖ                | none                                                                                                                                                                                                                                                   | [Step 6](https://dzone.com/articles/cicd-using-google-cloud-build-and-google-cloud-run) [Deploying a new revision of an existing service - GCP doc](https://cloud.google.com/run/docs/deploying#revision) [How to set up IAM resources](https://stackoverflow.com/a/62783880) |
